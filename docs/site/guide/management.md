# 管理后台总览

2025 版管理后台对信息架构与视觉系统进行了全面升级。本章节介绍各模块能力与常用操作。

> 访问地址：`/admin/`，需要管理员账号登录。建议通过 HTTPS 暴露，并在反向代理层增加 IP 限制或多因素认证。

## 仪表盘

- **全局指标**：今日/本周上传量、下载量、成功率、失败原因
- **容量视图**：展示存储占用、数据库大小、剩余配额
- **系统信息**：版本号、Git 提交、构建时间、操作系统、Go 版本
- **快捷入口**：常用维护动作（清理过期、导出日志、重载配置）

## 文件管理

| 功能 | 说明 |
| --- | --- |
| 列表视图 | 支持分页、搜索、按状态筛选 |
| 详情弹窗 | 查看分享链接、提取码、上传 IP、操作日志 |
| 批量操作 | 选择多条记录执行删除 / 延长有效期 |
| 导出 | CSV 导出文件记录、访问统计 |

## 用户管理（可选）

启用用户系统后，可以：

- 新建 / 禁用 / 重置用户密码
- 设置上传配额、单文件大小限制、最大会话数
- 查看用户最近登录时间、活跃终端、API Key 列表

## 存储面板

- 查看当前存储类型与健康状态
- 在线切换存储后端（需先在配置中完善凭证）
- 执行健康检查、测速、空间剩余统计

## 系统设置

| 分类 | 内容 |
| --- | --- |
| 基础信息 | 站点名称、描述、背景、主题、公告 |
| 上传策略 | 是否允许匿名上传、分片大小、秒传开关 |
| 下载策略 | 登录下载、下载限速、有效期模式 |
| 安全设置 | 提取码长度、登录保护、JWT 过期时间、IP 黑白名单 |
| MCP 设置 | 是否启用 MCP Server、监听地址、可用工具 |

所有修改都会写入数据库配置表，并触发 ConfigManager 热更新，无需重启服务。

## 运维工具

- **任务队列**：查看异步任务（分片合并、清理、统计）执行状态
- **日志与审计**：查询管理员操作记录，导出供稽核
- **维护脚本**：内置脚本如“修复统计异常”、“重建索引”等，可直接从 UI 调用

## API Key 管理

- 为管理员或自动化脚本创建 API Key
- 设置备注、有效期、访问范围（仅文件、仅用户、全局）
- 支持单键复制、展示创建时间与最后使用时间

## 安全建议

- 配置 `ENABLE_ADMIN_STATIC_AUTH=1`，保证静态资源必须带 Token 才能访问
- 使用 HTTPS，关闭浏览器默认缓存（前端已内置 no-cache 头）
- 定期审查管理员列表与 API Key，必要时启用外部审计或告警系统

继续阅读：[存储适配指南](./storage.md)
