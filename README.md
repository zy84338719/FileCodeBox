<div align="center">
  <img src="assets/images/logos/logo.svg" alt="FileCodeBox Logo" width="200"/>
  
  # FileCodeBox Goç‰ˆæœ¬
  
  ğŸš€ FileCodeBoxçš„é«˜æ€§èƒ½Golangå®ç° - å¼€ç®±å³ç”¨çš„æ–‡ä»¶å¿«ä¼ ç³»ç»Ÿ
</div>

## âœ¨ ç‰¹æ€§

- ğŸ”¥ **é«˜æ€§èƒ½** - Golangå®ç°ï¼Œå¹¶å‘å¤„ç†èƒ½åŠ›å¼º
- ğŸ“ **æ–‡ä»¶åˆ†äº«** - æ”¯æŒå„ç§æ ¼å¼æ–‡ä»¶çš„å¿«é€Ÿåˆ†äº«
- ğŸ“ **æ–‡æœ¬åˆ†äº«** - æ”¯æŒæ–‡æœ¬å†…å®¹çš„å¿«é€Ÿåˆ†äº«
- ğŸ”§ **åˆ†ç‰‡ä¸Šä¼ ** - æ”¯æŒå¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ ï¼Œæ–­ç‚¹ç»­ä¼ 
- âš¡ **æ–­ç‚¹ç»­ä¼ ** - ç½‘ç»œä¸­æ–­åå¯æ¢å¤ä¸Šä¼ ï¼Œæ”¯æŒç§’ä¼ 
- â° **çµæ´»è¿‡æœŸ** - æ”¯æŒæ—¶é—´å’Œæ¬¡æ•°ä¸¤ç§è¿‡æœŸæ–¹å¼
- ğŸ›¡ï¸ **å®‰å…¨å¯é ** - JWTè®¤è¯ã€é™æµä¿æŠ¤ã€æƒé™æ§åˆ¶
- ğŸ“Š **ç®¡ç†åå°** - å®Œæ•´çš„æ–‡ä»¶ç®¡ç†å’Œç³»ç»Ÿé…ç½®
- ğŸ—„ï¸ **å¤šå­˜å‚¨** - æ”¯æŒæœ¬åœ°ã€WebDAVã€S3å­˜å‚¨
- ğŸ³ **å®¹å™¨åŒ–** - å¼€ç®±å³ç”¨çš„Dockeréƒ¨ç½²
- ğŸ¨ **ä¸»é¢˜ç³»ç»Ÿ** - æ”¯æŒå¤šä¸»é¢˜åˆ‡æ¢

## å¿«é€Ÿå¼€å§‹

### ç›´æ¥è¿è¡Œ

```bash
# å®‰è£…ä¾èµ–
go mod tidy

# ç¼–è¯‘å¹¶è¿è¡Œ
go build -o filecodebox
./filecodebox
```

æœåŠ¡å¯åŠ¨åè®¿é—® `http://localhost:12345` å³å¯ä½¿ç”¨ã€‚

### Dockerè¿è¡Œ

```bash
# æ„å»ºé•œåƒ
docker build -t filecodebox-go .

# è¿è¡Œå®¹å™¨
docker run -d -p 12345:12345 -v ./data:/root/data filecodebox-go
```

### Docker Compose

```bash
docker-compose up -d
```

### å¤šæ¶æ„ Docker æ„å»º

æ”¯æŒ ARM64 å’Œ AMD64 æ¶æ„çš„ Docker é•œåƒæ„å»ºï¼š

```bash
# æ„å»ºå¤šæ¶æ„é•œåƒ
./build-docker.sh

# æ„å»ºæŒ‡å®šæ¶æ„
./build-docker.sh --single linux/arm64
./build-docker.sh --single linux/amd64
```

## é…ç½®

é…ç½®æ–‡ä»¶ä¼šè‡ªåŠ¨ç”Ÿæˆåœ¨ `data/config.json`ï¼Œä¸»è¦é…ç½®é¡¹ï¼š

- `port`: æœåŠ¡ç«¯å£ï¼ˆé»˜è®¤12345ï¼‰
- `name`: ç«™ç‚¹åç§°
- `upload_size`: æœ€å¤§ä¸Šä¼ å¤§å°
- `file_storage`: å­˜å‚¨ç±»å‹ï¼ˆlocal/s3/webdav/onedriveï¼‰
- `admin_token`: ç®¡ç†å‘˜è®¿é—®ä»¤ç‰Œ

## ç®¡ç†å‘˜åå°

### è®¿é—®æ–¹å¼
- ç®¡ç†å‘˜é¡µé¢ï¼š`http://localhost:12345/admin/`
- **é»˜è®¤å¯†ç **ï¼š`FileCodeBox2025`

### ä¸»è¦åŠŸèƒ½
- ğŸ“Š **ç³»ç»Ÿç»Ÿè®¡** - æŸ¥çœ‹æ–‡ä»¶æ•°é‡ã€å­˜å‚¨ä½¿ç”¨æƒ…å†µ
- ğŸ“ **æ–‡ä»¶ç®¡ç†** - ç®¡ç†æ‰€æœ‰åˆ†äº«çš„æ–‡ä»¶
- âš™ï¸ **ç³»ç»Ÿé…ç½®** - é…ç½®ç«™ç‚¹ä¿¡æ¯ã€ä¸Šä¼ é™åˆ¶ç­‰
- ğŸ‘¥ **ç”¨æˆ·ç®¡ç†** - å¯ç”¨ç”¨æˆ·ç³»ç»Ÿã€ç®¡ç†ç”¨æˆ·æƒé™
- ğŸ’¾ **å­˜å‚¨é…ç½®** - é…ç½®æœ¬åœ°ã€S3ã€WebDAVç­‰å­˜å‚¨æ–¹å¼

### åˆå§‹é…ç½®å»ºè®®
1. é¦–æ¬¡å¯åŠ¨åï¼Œç«‹å³è®¿é—®ç®¡ç†å‘˜é¡µé¢ä¿®æ”¹é»˜è®¤å¯†ç 
2. æ ¹æ®éœ€è¦é…ç½®å­˜å‚¨æ–¹å¼ï¼ˆæœ¬åœ°å­˜å‚¨/äº‘å­˜å‚¨ï¼‰
3. è®¾ç½®åˆé€‚çš„ä¸Šä¼ å¤§å°é™åˆ¶
4. é…ç½®ç«™ç‚¹åç§°å’Œæè¿°ä¿¡æ¯

## APIæ¥å£

### åˆ†äº«æ–‡æœ¬
```
POST /share/text/
```

### åˆ†äº«æ–‡ä»¶
```
POST /share/file/
```

### è·å–åˆ†äº«å†…å®¹
```
GET /share/select/?code=xxx
POST /share/select/
```

### åˆ†ç‰‡ä¸Šä¼ å’Œæ–­ç‚¹ç»­ä¼ 
```
POST /chunk/upload/init/          # åˆå§‹åŒ–åˆ†ç‰‡ä¸Šä¼ 
POST /chunk/upload/chunk/:upload_id/:chunk_index # ä¸Šä¼ åˆ†ç‰‡
POST /chunk/upload/complete/:upload_id            # å®Œæˆä¸Šä¼ 
GET  /chunk/upload/status/:upload_id              # è·å–ä¸Šä¼ çŠ¶æ€
POST /chunk/upload/verify/:upload_id/:chunk_index # éªŒè¯åˆ†ç‰‡
DELETE /chunk/upload/cancel/:upload_id            # å–æ¶ˆä¸Šä¼ 
```

### ç®¡ç†æ¥å£
```
GET /admin/stats         # ç»Ÿè®¡ä¿¡æ¯
GET /admin/files         # æ–‡ä»¶åˆ—è¡¨
DELETE /admin/files/:id  # åˆ é™¤æ–‡ä»¶
GET /admin/config        # è·å–é…ç½®
PUT /admin/config        # æ›´æ–°é…ç½®
```

## é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ assets/                 # é¡¹ç›®èµ„æºæ–‡ä»¶
â”‚   â””â”€â”€ images/logos/       # Logo å’Œå›¾æ ‡æ–‡ä»¶
â”œâ”€â”€ docs/                   # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ changelogs/         # æ”¹åŠ¨è®°å½•å’Œç‰ˆæœ¬æ—¥å¿—
â”‚   â”œâ”€â”€ design/             # è®¾è®¡ç›¸å…³æ–‡æ¡£
â”‚   â””â”€â”€ *.md               # å…¶ä»–æ–‡æ¡£
â”œâ”€â”€ scripts/               # è„šæœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ build-docker.sh    # Docker æ„å»º
â”‚   â”œâ”€â”€ deploy.sh          # éƒ¨ç½²è„šæœ¬
â”‚   â””â”€â”€ *.sh              # å…¶ä»–è„šæœ¬
â”œâ”€â”€ main.go                # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ internal/              # Go æºä»£ç 
â”‚   â”œâ”€â”€ config/            # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ database/          # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ services/          # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ handlers/          # HTTPå¤„ç†å™¨
â”‚   â”œâ”€â”€ middleware/        # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ storage/           # å­˜å‚¨æ¥å£
â”‚   â”œâ”€â”€ routes/            # è·¯ç”±è®¾ç½®
â”‚   â””â”€â”€ tasks/             # åå°ä»»åŠ¡
â”œâ”€â”€ themes/                # ä¸»é¢˜æ–‡ä»¶
â”‚   â””â”€â”€ 2024/              # 2024å¹´ä¸»é¢˜
â”œâ”€â”€ data/                  # æ•°æ®ç›®å½•
â”œâ”€â”€ tests/                 # æµ‹è¯•æ–‡ä»¶
â””â”€â”€ docker-compose.yml     # Dockerç¼–æ’
```

## ä¸Pythonç‰ˆæœ¬çš„å·®å¼‚

1. **æ€§èƒ½æå‡**: Goç‰ˆæœ¬å…·æœ‰æ›´å¥½çš„å¹¶å‘æ€§èƒ½å’Œæ›´ä½çš„å†…å­˜å ç”¨
2. **ä¾èµ–æ›´å°‘**: ä¸éœ€è¦Pythonè¿è¡Œæ—¶ç¯å¢ƒ
3. **éƒ¨ç½²ç®€å•**: ç¼–è¯‘åä¸ºå•ä¸€å¯æ‰§è¡Œæ–‡ä»¶
4. **ç±»å‹å®‰å…¨**: é™æ€ç±»å‹ç³»ç»Ÿå‡å°‘è¿è¡Œæ—¶é”™è¯¯
5. **å®¹å™¨ä¼˜åŒ–**: æ”¯æŒå¤šæ¶æ„Dockeré•œåƒï¼Œæ›´å°çš„é•œåƒä½“ç§¯

## ç¯å¢ƒè¦æ±‚

### å¼€å‘ç¯å¢ƒ
- Go 1.25+ 
- SQLite3ï¼ˆç”¨äºæ•°æ®å­˜å‚¨ï¼‰
- Gitï¼ˆç”¨äºä»£ç ç®¡ç†ï¼‰

### ç”Ÿäº§ç¯å¢ƒ
- Linux/macOS/Windows
- è‡³å°‘ 512MB å†…å­˜
- æ¨èä½¿ç”¨ Docker éƒ¨ç½²

## éƒ¨ç½²å»ºè®®

### Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰
```bash
# ä½¿ç”¨ docker-composeï¼ˆæœ€ç®€å•ï¼‰
docker-compose up -d

# æˆ–æ‰‹åŠ¨è¿è¡Œ Docker
docker run -d \
  --name filecodebox \
  -p 12345:12345 \
  -v ./data:/root/data \
  --restart unless-stopped \
  filecodebox-go
```

### ç›´æ¥éƒ¨ç½²
```bash
# ç¼–è¯‘
go build -ldflags="-w -s" -o filecodebox

# åˆ›å»ºç³»ç»ŸæœåŠ¡ï¼ˆå¯é€‰ï¼‰
sudo cp filecodebox /usr/local/bin/
sudo systemctl enable filecodebox
sudo systemctl start filecodebox
```

## å¼€å‘

### æ·»åŠ æ–°çš„å­˜å‚¨åç«¯

1. å®ç° `storage.StorageInterface` æ¥å£
2. åœ¨ `storage.NewStorageManager` ä¸­æ³¨å†Œæ–°å­˜å‚¨
3. åœ¨é…ç½®ä¸­æ·»åŠ ç›¸å…³é…ç½®é¡¹

### æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨ `models/` ä¸­å®šä¹‰æ•°æ®æ¨¡å‹
2. åœ¨ `services/` ä¸­å®ç°ä¸šåŠ¡é€»è¾‘
3. åœ¨ `handlers/` ä¸­æ·»åŠ HTTPå¤„ç†å™¨
4. åœ¨ `routes/` ä¸­æ³¨å†Œè·¯ç”±

## å®‰å…¨å»ºè®®

- ğŸ” **ä¿®æ”¹é»˜è®¤å¯†ç **: é¦–æ¬¡éƒ¨ç½²åç«‹å³ä¿®æ”¹ç®¡ç†å‘˜é»˜è®¤å¯†ç 
- ğŸ›¡ï¸ **ä½¿ç”¨HTTPS**: ç”Ÿäº§ç¯å¢ƒå»ºè®®é…ç½®SSLè¯ä¹¦
- ğŸ”¥ **é˜²ç«å¢™é…ç½®**: åªå¼€æ”¾å¿…è¦çš„ç«¯å£ï¼ˆå¦‚12345ï¼‰
- ğŸ“Š **å®šæœŸå¤‡ä»½**: å®šæœŸå¤‡ä»½ `data` ç›®å½•
- ğŸš« **è®¿é—®æ§åˆ¶**: æ ¹æ®éœ€è¦å¯ç”¨ç”¨æˆ·ç³»ç»Ÿå’Œæƒé™æ§åˆ¶

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£è¢«å ç”¨**
   ```bash
   # æ£€æŸ¥ç«¯å£å ç”¨
   lsof -ti:12345
   # æ€æ‰å ç”¨è¿›ç¨‹
   lsof -ti:12345 | xargs kill -9
   ```

2. **æ•°æ®åº“é”å®š**
   ```bash
   # é‡å¯æœåŠ¡å³å¯è§£å†³
   pkill -f filecodebox
   ./filecodebox
   ```

3. **æ–‡ä»¶æƒé™é—®é¢˜**
   ```bash
   # ç¡®ä¿dataç›®å½•æœ‰æ­£ç¡®æƒé™
   chmod -R 755 data/
   ```

### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
./filecodebox 2>&1 | tee app.log

# Docker å®¹å™¨æ—¥å¿—
docker logs filecodebox
```

## è®¸å¯è¯

MIT License
